{% extends "base.html" %}
{% block title %}Edit Record{% endblock %}
{% block content %}
<div class="row">
  <div class="col-md-8 offset-md-2">
    <h1 class="mt-4">Edit Record</h1>
    <form method="POST" enctype="multipart/form-data">
      {{ form.hidden_tag() }}
      <div class="form-group">
        {{ form.title.label(class="form-label") }}
        {{ form.title(class="form-control") }}
      </div>
      <div class="form-group">
        {{ form.description.label(class="form-label") }}
        {{ form.description(class="form-control", rows=10) }}
      </div>
      <div class="form-group">
        {{ form.files.label(class="form-label") }}
        {{ form.files(class="form-control-file", multiple=True) }}
      </div>
      <div class="form-group">
        {{ form.group_name.label(class="form-label") }}
        {{ form.group_name(class="form-control") }}
      </div>
      <button type="submit" class="btn btn-primary">Save</button>
    </form>
    <h2 class="mt-4">Existing Files</h2>
    <ul class="list-group">
      {% for file in record.files %}
      <li class="list-group-item d-flex justify-content-between align-items-center">
        <a href="{{ url_for('uploaded_file', filename=file.filename) }}">{{ file.filename }}</a>
        <a href="{{ url_for('delete_file', id=file.id) }}" class="btn btn-danger btn-sm">Ã—</a>
      </li>
      {% endfor %}
    </ul>
  </div>
</div>
{% endblock %}
